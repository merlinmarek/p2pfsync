<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>p2pfsync: logger.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">p2pfsync
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">logger.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module exposes logging functionality.  
<a href="#details">More...</a></p>

<p><a href="logger_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af19a824b7e95a44687ad71d4fb77f3fc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8h.html#af19a824b7e95a44687ad71d4fb77f3fc">LOGD</a>(FORMAT, ...)&#160;&#160;&#160;<a class="el" href="logger_8h.html#aec1e6f46782cc287a5962402441b7222">logger</a>(<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1dab9f002c6ffbfd511da8090213227454e">LOG_DEBUG</a>, __FILE__, __FUNCTION__, FORMAT, ##__VA_ARGS__)</td></tr>
<tr class="separator:af19a824b7e95a44687ad71d4fb77f3fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f3e0dc4499bff6b097bc48dee037b40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8h.html#a6f3e0dc4499bff6b097bc48dee037b40">LOGI</a>(FORMAT, ...)&#160;&#160;&#160;<a class="el" href="logger_8h.html#aec1e6f46782cc287a5962402441b7222">logger</a>(<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1da6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a>, __FILE__, __FUNCTION__, FORMAT, ##__VA_ARGS__)</td></tr>
<tr class="separator:a6f3e0dc4499bff6b097bc48dee037b40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb19a65ed6f78f7b8e5ff31a33ef90fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8h.html#adb19a65ed6f78f7b8e5ff31a33ef90fe">LOGW</a>(FORMAT, ...)&#160;&#160;&#160;<a class="el" href="logger_8h.html#aec1e6f46782cc287a5962402441b7222">logger</a>(<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1da8f6fe15bfe15104da6d1b360194a5400">LOG_WARNING</a>, __FILE__, __FUNCTION__, FORMAT, ##__VA_ARGS__)</td></tr>
<tr class="separator:adb19a65ed6f78f7b8e5ff31a33ef90fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa57ee635d6c1e095b094642779ab1e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8h.html#afa57ee635d6c1e095b094642779ab1e6">LOGE</a>(FORMAT, ...)&#160;&#160;&#160;<a class="el" href="logger_8h.html#aec1e6f46782cc287a5962402441b7222">logger</a>(<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1da230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, __FILE__, __FUNCTION__, FORMAT, ##__VA_ARGS__)</td></tr>
<tr class="separator:afa57ee635d6c1e095b094642779ab1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a98121d38a8cf3daf5246a349f912ca1d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1d">log_level_t</a> { <a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1dab9f002c6ffbfd511da8090213227454e">LOG_DEBUG</a> = 0, 
<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1da6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a> = 1, 
<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1da8f6fe15bfe15104da6d1b360194a5400">LOG_WARNING</a> = 2, 
<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1da230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a> = 3
 }</td></tr>
<tr class="memdesc:a98121d38a8cf3daf5246a349f912ca1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log levels.  <a href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1d">More...</a><br /></td></tr>
<tr class="separator:a98121d38a8cf3daf5246a349f912ca1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afb4518190b710a9d4955647b8d8d4f1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8h.html#afb4518190b710a9d4955647b8d8d4f1b">initialize_logger_lock</a> ()</td></tr>
<tr class="memdesc:afb4518190b710a9d4955647b8d8d4f1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the mutex for logging. This has to be the first call to this module to work correctly.  <a href="#afb4518190b710a9d4955647b8d8d4f1b">More...</a><br /></td></tr>
<tr class="separator:afb4518190b710a9d4955647b8d8d4f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4ef000f41dc1642ac789a46f0319db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8h.html#a8d4ef000f41dc1642ac789a46f0319db">destroy_logger_lock</a> ()</td></tr>
<tr class="memdesc:a8d4ef000f41dc1642ac789a46f0319db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys the mutex for logging. This should be called when the logger is not needed anymore.  <a href="#a8d4ef000f41dc1642ac789a46f0319db">More...</a><br /></td></tr>
<tr class="separator:a8d4ef000f41dc1642ac789a46f0319db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4061480cf3a51689b1a2b1a1a2fab90d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8h.html#a4061480cf3a51689b1a2b1a1a2fab90d">set_log_level</a> (<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1d">log_level_t</a> level)</td></tr>
<tr class="memdesc:a4061480cf3a51689b1a2b1a1a2fab90d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the log level for future calls to the logger.  <a href="#a4061480cf3a51689b1a2b1a1a2fab90d">More...</a><br /></td></tr>
<tr class="separator:a4061480cf3a51689b1a2b1a1a2fab90d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec1e6f46782cc287a5962402441b7222"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="logger_8h.html#aec1e6f46782cc287a5962402441b7222">logger</a> (<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1d">log_level_t</a> level, const char *file, const char *function, const char *format_string,...)</td></tr>
<tr class="memdesc:aec1e6f46782cc287a5962402441b7222"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the threadsafe logging function.  <a href="#aec1e6f46782cc287a5962402441b7222">More...</a><br /></td></tr>
<tr class="separator:aec1e6f46782cc287a5962402441b7222"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module exposes logging functionality. </p>
<p>The logger can be set to different levels so low priority messages can be filtered out beforehand. Thread safe access and convenience macros are provided to enable easy logging. On startup the logger will create a log file in the directory "logs" named with the current date. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af19a824b7e95a44687ad71d4fb77f3fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af19a824b7e95a44687ad71d4fb77f3fc">&#9670;&nbsp;</a></span>LOGD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOGD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FORMAT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="logger_8h.html#aec1e6f46782cc287a5962402441b7222">logger</a>(<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1dab9f002c6ffbfd511da8090213227454e">LOG_DEBUG</a>, __FILE__, __FUNCTION__, FORMAT, ##__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afa57ee635d6c1e095b094642779ab1e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa57ee635d6c1e095b094642779ab1e6">&#9670;&nbsp;</a></span>LOGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOGE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FORMAT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="logger_8h.html#aec1e6f46782cc287a5962402441b7222">logger</a>(<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1da230506cce5c68c3bac5a821c42ed3473">LOG_ERROR</a>, __FILE__, __FUNCTION__, FORMAT, ##__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6f3e0dc4499bff6b097bc48dee037b40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f3e0dc4499bff6b097bc48dee037b40">&#9670;&nbsp;</a></span>LOGI</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOGI</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FORMAT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="logger_8h.html#aec1e6f46782cc287a5962402441b7222">logger</a>(<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1da6e98ff471e3ce6c4ef2d75c37ee51837">LOG_INFO</a>, __FILE__, __FUNCTION__, FORMAT, ##__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adb19a65ed6f78f7b8e5ff31a33ef90fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb19a65ed6f78f7b8e5ff31a33ef90fe">&#9670;&nbsp;</a></span>LOGW</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOGW</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">FORMAT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="logger_8h.html#aec1e6f46782cc287a5962402441b7222">logger</a>(<a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1da8f6fe15bfe15104da6d1b360194a5400">LOG_WARNING</a>, __FILE__, __FUNCTION__, FORMAT, ##__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a98121d38a8cf3daf5246a349f912ca1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98121d38a8cf3daf5246a349f912ca1d">&#9670;&nbsp;</a></span>log_level_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1d">log_level_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Log levels. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a98121d38a8cf3daf5246a349f912ca1dab9f002c6ffbfd511da8090213227454e"></a>LOG_DEBUG&#160;</td><td class="fielddoc"><p>All messages are logged including Debug messages. </p>
</td></tr>
<tr><td class="fieldname"><a id="a98121d38a8cf3daf5246a349f912ca1da6e98ff471e3ce6c4ef2d75c37ee51837"></a>LOG_INFO&#160;</td><td class="fielddoc"><p>No Debug messages are logged. </p>
</td></tr>
<tr><td class="fieldname"><a id="a98121d38a8cf3daf5246a349f912ca1da8f6fe15bfe15104da6d1b360194a5400"></a>LOG_WARNING&#160;</td><td class="fielddoc"><p>No Debug or Info messages are logged. </p>
</td></tr>
<tr><td class="fieldname"><a id="a98121d38a8cf3daf5246a349f912ca1da230506cce5c68c3bac5a821c42ed3473"></a>LOG_ERROR&#160;</td><td class="fielddoc"><p>Only Error messages are logged. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8d4ef000f41dc1642ac789a46f0319db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d4ef000f41dc1642ac789a46f0319db">&#9670;&nbsp;</a></span>destroy_logger_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_logger_lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroys the mutex for logging. This should be called when the logger is not needed anymore. </p>

</div>
</div>
<a id="afb4518190b710a9d4955647b8d8d4f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb4518190b710a9d4955647b8d8d4f1b">&#9670;&nbsp;</a></span>initialize_logger_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_logger_lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the mutex for logging. This has to be the first call to this module to work correctly. </p>

</div>
</div>
<a id="aec1e6f46782cc287a5962402441b7222"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec1e6f46782cc287a5962402441b7222">&#9670;&nbsp;</a></span>logger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void logger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1d">log_level_t</a>&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the threadsafe logging function. </p>
<p>This function should not be called directly. Instead one should use one of the LOG macros defined in this header. The level, file and function are inserted automatically when one of the macros is used so the macros can be used analogous to printf. Example: </p><div class="fragment"><div class="line"><a class="code" href="logger_8h.html#af19a824b7e95a44687ad71d4fb77f3fc">LOGD</a>(<span class="stringliteral">&quot;received %d bytes %s\n&quot;</span>, count, buffer);</div></div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>The log level of this log call. Only if this is greater or equal to the currently set log level. </td></tr>
    <tr><td class="paramname">file</td><td>The file containing the function that issued the log call. This is inserted automatically if one of the LOG macros is used. </td></tr>
    <tr><td class="paramname">function</td><td>The function that issued the log call. This is inserted automatically if one of the LOG macros is used. </td></tr>
    <tr><td class="paramname">format_string</td><td>The format string. This is passed on to printf. After this additional arguments can be passed, see the example. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4061480cf3a51689b1a2b1a1a2fab90d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4061480cf3a51689b1a2b1a1a2fab90d">&#9670;&nbsp;</a></span>set_log_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_log_level </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1d">log_level_t</a>&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the log level for future calls to the logger. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">level</td><td>One of <a class="el" href="logger_8h.html#a98121d38a8cf3daf5246a349f912ca1d" title="Log levels. ">log_level_t</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
